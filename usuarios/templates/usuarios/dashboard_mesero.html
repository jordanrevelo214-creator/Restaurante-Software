{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Mesero</title>
    <link rel="stylesheet" href="{% static 'usuarios/css/dashboard.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

    <nav class="navbar">
        <div class="brand">Restaurante App</div>
        <div class="user-info">
            <span><i class="fas fa-user"></i> Bienvenido, {{ user.first_name|default:user.username }}</span>
            <a href="{% url 'usuarios:logout' %}" class="logout-btn">Cerrar SesiÃ³n</a>
        </div>
    </nav>

    <main class="dashboard-container">
        <div class="dashboard-header">
            <h1>Panel de Control</h1>
            <p>Selecciona una mesa para gestionar un pedido o ver su estado.</p>
        </div>

        <section class="tables-section">
            <h2>Mesas Asignadas</h2>
            <div class="tables-grid">
                
                {% for mesa in mesas %}
                    <a href="{% url 'pedidos:detalle_mesa' mesa.id %}" style="text-decoration: none; color: inherit;">
                        
                        <div class="table-card status-{{ mesa.estado }}">
                            <div class="table-number">{{ mesa.numero }}</div>
                            <div class="table-status">{{ mesa.get_estado_display }}</div>
                        </div>

                    </a>
                {% empty %}
                    <p>No hay mesas registradas. Pide al administrador que las cree.</p>
                {% endfor %}
                </div>
        </section>

    </main>

</body>
</html>